{"ast":null,"code":"var _jsxFileName = \"/Users/Oiver/React-Decode/DecodeApp/src/ConstructionAreas.js\";\nimport React from \"react\";\nimport { GeoJSON, Marker } from \"react-leaflet\";\nimport * as overpass from \"query-overpass\"; // https://opendata.vancouver.ca/api/records/1.0/search/?dataset=road-ahead-projects-under-construction&facet=comp_date\n\nexport default class ConstructionAreas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.dataHandler = (error, osmData) => {\n      if (!error && osmData.features !== undefined) {\n        this.setState({\n          geojson: osmData\n        });\n      }\n    };\n\n    this.state = {\n      geojson: undefined,\n      contacts: undefined\n    };\n  }\n\n  componentDidMount() {\n    fetch('https://opendata.vancouver.ca/api/records/1.0/search/?dataset=road-ahead-projects-under-construction&facet=comp_date').then(res => res.json()).then(data => {\n      this.setState({\n        contacts: data\n      });\n    }).catch(console.log);\n  }\n\n  componentDidUpdate() {\n    console.log(this.state); //  this.setState(geojson: this.state.contacts.)\n  }\n\n  render() {\n    return this.state.geojson ? React.createElement(GeoJSON, {\n      data: this.state.geojson,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }) : null;\n  }\n\n}","map":{"version":3,"sources":["/Users/Oiver/React-Decode/DecodeApp/src/ConstructionAreas.js"],"names":["React","GeoJSON","Marker","overpass","ConstructionAreas","Component","constructor","props","dataHandler","error","osmData","features","undefined","setState","geojson","state","contacts","componentDidMount","fetch","then","res","json","data","catch","console","log","componentDidUpdate","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,eAAhC;AACA,OAAO,KAAKC,QAAZ,MAA0B,gBAA1B,C,CAEA;;AAEA,eAAe,MAAMC,iBAAN,SAAgCJ,KAAK,CAACK,SAAtC,CAAgD;AAC9DC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAsBnBC,WAtBmB,GAsBL,CAACC,KAAD,EAAQC,OAAR,KAAoB;AAChC,UAAI,CAACD,KAAD,IAAUC,OAAO,CAACC,QAAR,KAAqBC,SAAnC,EAA8C;AAC5C,aAAKC,QAAL,CAAc;AAAEC,UAAAA,OAAO,EAAEJ;AAAX,SAAd;AACD;AACF,KA1BkB;;AAEjB,SAAKK,KAAL,GAAa;AACXD,MAAAA,OAAO,EAAEF,SADE;AAEXI,MAAAA,QAAQ,EAAEJ;AAFC,KAAb;AAID;;AAEDK,EAAAA,iBAAiB,GAAG;AACjBC,IAAAA,KAAK,CAAC,sHAAD,CAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEWG,IAAD,IAAU;AACd,WAAKT,QAAL,CAAc;AAAEG,QAAAA,QAAQ,EAAEM;AAAZ,OAAd;AACD,KAJL,EAKKC,KALL,CAKWC,OAAO,CAACC,GALnB;AAMF;;AAEDC,EAAAA,kBAAkB,GAAG;AACjBF,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB,EADiB,CAElB;AACF;;AAQDY,EAAAA,MAAM,GAAG;AACP,WAAO,KAAKZ,KAAL,CAAWD,OAAX,GAAqB,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAE,KAAKC,KAAL,CAAWD,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArB,GAA6D,IAApE;AACD;;AA/B6D","sourcesContent":["import React from \"react\";\nimport { GeoJSON, Marker } from \"react-leaflet\";\nimport * as overpass from \"query-overpass\";\n\n// https://opendata.vancouver.ca/api/records/1.0/search/?dataset=road-ahead-projects-under-construction&facet=comp_date\n\nexport default class ConstructionAreas extends React.Component {\n constructor(props) {\n   super(props);\n   this.state = {\n     geojson: undefined,\n     contacts: undefined\n   };\n }\n\n componentDidMount() {\n    fetch('https://opendata.vancouver.ca/api/records/1.0/search/?dataset=road-ahead-projects-under-construction&facet=comp_date')\n        .then(res => res.json())\n        .then((data) => {\n          this.setState({ contacts: data })\n        })\n        .catch(console.log)\n }\n\n componentDidUpdate() {\n     console.log(this.state);\n    //  this.setState(geojson: this.state.contacts.)\n }\n\n dataHandler = (error, osmData) => {\n   if (!error && osmData.features !== undefined) {\n     this.setState({ geojson: osmData });\n   }\n };\n\n render() {\n   return this.state.geojson ? <GeoJSON data={this.state.geojson} /> : null;\n }\n}"]},"metadata":{},"sourceType":"module"}